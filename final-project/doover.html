<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title></title>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
    <script src="jquery.lettering-0.6.1.min.js"></script>
  </head>
  <body>
      <select id="sourceLangSelect">
        <option value="da">Danish</option>
        <option value="nl">Dutch</option>
        <option value="fr">French</option>
        <option value="de">German</option>
        <option value="it">Italian</option>
        <option value="es">Spanish</option>
      </select>
      <select id="targetLangSelect">
        <option value="da">Danish</option>
        <option value="nl">Dutch</option>
        <option value="en">English</option>
        <option value="fr">French</option>
        <option value="de">German</option>
        <option value="it">Italian</option>
        <option value="es">Spanish</option>
      </select>
    <button type="submit" form="languages" value="Submit">Submit</button>



    <p style="margin-top: 100px">Serata di gala che assegna il massimo riconoscimento della Fifa. Se lo aggiudica il fuoriclasse argentino, che piega la concorrenza di Cristiano Ronaldo e Neymar: "Oltre i sogni di quando ero bambino". Il premio Puskas a sorpresa va al brasiliano Lira, che piega le aspirazioni del giocatore della Roma. Premio femminile alla statunitense Lloyd, Luis Enrique miglior allenatore, Pogba nel top 11</p>

    <!-- <ul>
      <li>words go here</ul>
      <li>words go here</ul>
      <li>words go here</ul>
      <li>words go here</ul>
    </ul> -->

    <div id="hoveredWord">
    </div>
    <div id="translation">
    </div>




    <script>
    var $toTranslate;
    var $hoveredElement;
    // var $sourceLang = $('#sourceLangSelect option:selected').val();
    // var $targetLang = $('#targetLangSelect option:selected').val();
    var $sourceLang = "it";
    var $targetLang = "en";
    var newScript = document.createElement('script');




    $("body").mouseover(function() {
        $hoveredElement = $(event.target);
        if ($hoveredElement.prop('tagName') !== "BODY") {
          if ($hoveredElement.prop('tagName') !== "SELECT") {
            $hoveredElement.addClass("word_split");
            $(".word_split").lettering('words');
            if ($hoveredElement.hasClass('word')) {
              $toTranslate = $hoveredElement.text();
              var $displayWord = $("#hoveredWord");
              $displayWord.text($toTranslate);
              translateText();
            }
          }
        }
    });

    function translateText(response) {
      $toTranslate = $hoveredElement.text();
      var source = 'https://www.googleapis.com/language/translate/v2?key=AIzaSyDuXAgBhZVhF75wlVv4pprIUIbFgdzGB4Q&source=' + $sourceLang + '&target=' + $targetLang + '&callback=translateText&q=' + $toTranslate;
      newScript.src = source;
      document.getElementsByTagName('head')[0].appendChild(newScript);
      document.getElementById("translation").innerHTML += response.data.translations[0].translatedText;
    };









    </script>

  </body>
</html>
